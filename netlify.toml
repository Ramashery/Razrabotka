# Файл: netlify.toml
# Финальная и самая надежная конфигурация

[[edge_functions]]
  # Запускаем нашу функцию для всех путей.
  path = "/*"
  
  # Но только если эти пути НЕ соответствуют шаблону ниже.
  # Этот шаблон исключает любые пути, содержащие точку (.), за которой следуют
  # от 2 до 4 символов. Это эффективно отсекает все файлы с расширениями
  # (например, .txt, .js, .css, .png, .jpg), но пропускает пути без расширений
  # (например, /, /services, /portfolio/my-work).
  excluded_pattern = "\\.[a-zA-Z0-9]{2,4}$"
  
  # Название нашей функции.
  function = "prerender"